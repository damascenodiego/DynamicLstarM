s0@f0 -- a@f0 / 0 -> s0@f0
s0@f0 -- a3@f3 / 0 -> s3@f3
s3@f3 -- a@f3 / 1 -> s0@f0
s3@f3 -- b@f3 / o3 -> s3@f3
s3@f3 -- a4@f4 / 0 -> s4@f4
s4@f4 -- a@f4 / 1 -> s3@f3
s4@f4 -- b@f4 / o4 -> s4@f4
s3@f3 -- a2@f2 / 0 -> s2@f2
s2@f2 -- a@f2 / 1 -> s3@f3
s2@f2 -- b@f2 / o2 -> s2@f2
s0@f0 -- a1@f1 / 0 -> s1@f1
s1@f1 -- a@f1 / 1 -> s0@f0
s1@f1 -- b@f1 / o1 -> s1@f1
